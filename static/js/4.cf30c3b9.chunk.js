(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[4],{100:function(e,t,n){},101:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=(n(100),function(e){var t=e.amount,n=e.small,r=e.onAddToCart,c=e.onRemoveFromCart,o=e.list;return a.a.createElement("div",{className:"amount-control ".concat(n?"amount-control--small":""," ").concat(o?"amount-control--list":"")},t?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{onClick:c,className:"amount-control__minus"},"-"),a.a.createElement("span",{className:"amount-control__number"},t),a.a.createElement("button",{onClick:r,className:"amount-control__plus"},"+")):a.a.createElement("button",{onClick:r,className:"amount-control__add"},"Add to cart"))});c.defaultName="AmountControl",c.defaultProps={amount:0,small:!1,list:!1};var o=c;t.a=o},102:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n(28),a=function(e){return{type:r.b,filterData:e}},c=function(){return{type:r.a}}},105:function(e,t,n){},107:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=(n(105),function(e){var t=e.children,n=e.value,r=e.onChange,c=e.name,o=e.merge,i=e.hasError;return a.a.createElement("label",{className:"select ".concat(o?"select--merge":""," ").concat(i?"select--error":"")},a.a.createElement("select",{name:c,value:n,onChange:r},t))});c.defaultName="Select",c.defaultProps={name:"Select",merge:!1,hasError:!1};var o=c;t.a=o},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},120:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(32),c=n(33),o=n(35),i=n(34),l=n(36),u=n(0),s=n.n(u),m=n(22),d=n(41),p=n(42),f=n(37),b=function(e){return e.filters},g=n(40),v=n(102),h=n(99),O=n(18);function k(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var y=function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}};var C,E,_=(void 0===C&&(C=0),function(){return++C}),N={},j={},w=["touchstart","touchmove"],P="ignore-react-onclickoutside";function I(e,t){var n=null;return-1!==w.indexOf(t)&&E&&(n={passive:!e.props.preventDefault}),n}var A=function(e,t){var n,r,a=e.displayName||e.name||"Component";return r=n=function(n){var r,c;function o(e){var r;return(r=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!==typeof r.__clickOutsideHandlerProp){var t=r.getInstance();if("function"!==typeof t.props.handleClickOutside){if("function"!==typeof t.handleClickOutside)throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else r.__clickOutsideHandlerProp(e)},r.__getComponentNode=function(){var e=r.getInstance();return t&&"function"===typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"===typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(O.findDOMNode)(e)},r.enableOnClickOutside=function(){if("undefined"!==typeof document&&!j[r._uid]){"undefined"===typeof E&&(E=y()),j[r._uid]=!0;var e=r.props.eventTypes;e.forEach||(e=[e]),N[r._uid]=function(e){var t;null!==r.componentNode&&(r.props.preventDefault&&e.preventDefault(),r.props.stopPropagation&&e.stopPropagation(),r.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(k(e,t,n))return!0;e=e.parentNode}return e}(e.target,r.componentNode,r.props.outsideClickIgnoreClass)===document&&r.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,N[r._uid],I(r,e))}))}},r.disableOnClickOutside=function(){delete j[r._uid];var e=N[r._uid];if(e&&"undefined"!==typeof document){var t=r.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,I(r,t))})),delete N[r._uid]}},r.getRef=function(e){return r.instanceRef=e},r._uid=_(),r}c=n,(r=o).prototype=Object.create(c.prototype),r.prototype.constructor=r,r.__proto__=c;var i=o.prototype;return i.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},i.componentDidMount=function(){if("undefined"!==typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"===typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!==typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+a+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},i.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},i.componentWillUnmount=function(){this.disableOnClickOutside()},i.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(u.createElement)(e,n)},o}(u.Component),n.displayName="OnClickOutside("+a+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:P,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},r},F=(n(110),function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={isOpen:!1},n.handleToggle=function(){return n.setState({isOpen:!n.state.isOpen})},n.handleClickOutside=function(){return n.setState({isOpen:!1})},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.selectedItems;return s.a.createElement("div",{className:"dropdown ".concat(this.state.isOpen?"dropdown--open":"")},s.a.createElement("div",{className:"dropdown__inner"},s.a.createElement("div",{className:"dropdown__title ".concat(r?"dropdown__title--selected":""),onClick:this.handleToggle},n," ",!!r&&"(".concat(r,")")),s.a.createElement("ul",{className:"dropdown__list"},t.map((function(e,t){return s.a.createElement("li",{className:"dropdown__item",key:t},e)})))))}}]),t}(s.a.Component));F.defaultName="Dropdown",F.defaultProps={onSettingsChange:null,hasError:!1};var R=A(F,{handleClickOutside:function(e){return e.handleClickOutside}}),T=n(107),S=n(17),D=(n(111),function(e){var t=e.filtersState,n=e.productsAmount,r=e.categories,a=e.brands,c=e.tremolos,o=e.pickups,i=e.priceRange,l=e.onFiltersChange,u=function(e,n){return void 0!==t[e].find((function(e){return e===n}))};return s.a.createElement("form",{className:"filters",onSubmit:function(e){return e.preventDefault()}},s.a.createElement("div",{className:"filters__searchbar"},s.a.createElement("input",{name:"query",type:"text",placeholder:"search",className:"input input--large",value:t.query,onChange:function(e){return l({value:e.target.value,target:"query"})}}),s.a.createElement("span",{className:"filters__amount"},n," ",Object(S.h)("Guitar",n))),s.a.createElement("div",{className:"filters__bar"},s.a.createElement(T.a,{merge:!0,value:t.priceFrom,onChange:function(e){return l({value:parseInt(e.target.value,10),target:"priceFrom"})}},i.map((function(e,t){return t<i.length-1&&s.a.createElement("option",{key:e,value:e},Object(S.b)(e))}))),s.a.createElement(T.a,{merge:!0,name:"priceTo",value:t.priceTo,onChange:function(e){return l({value:parseInt(e.target.value,10),target:"priceTo"})}},i.map((function(e,t){return t&&s.a.createElement("option",{key:e,value:e},Object(S.b)(e))}))),s.a.createElement(R,{title:"Brand",selectedItems:t.brand.length},a.map((function(e){return s.a.createElement("label",{key:"".concat(e.id,"-").concat(e.name)},s.a.createElement("input",{name:"brand",type:"checkbox",value:e.id,checked:u("brand",e.id),onChange:function(t){return l({value:t.target.checked,target:["brand",e.id]})}}),e.name)}))),s.a.createElement(R,{title:"Pickups",selectedItems:t.pickup.length},o.map((function(e){return s.a.createElement("label",{key:"".concat(e.id,"-").concat(e.name)},s.a.createElement("input",{name:"pickup",type:"checkbox",value:e.id,checked:u("pickup",e.id),onChange:function(t){return l({value:t.target.checked,target:["pickup",e.id]})}}),e.name)}))),s.a.createElement(R,{title:"Tremolo",selectedItems:t.tremolo.length},c.map((function(e){return s.a.createElement("label",{key:"".concat(e.id,"-").concat(e.name)},s.a.createElement("input",{name:"tremolo",type:"checkbox",value:e.id,checked:u("tremolo",e.id),onChange:function(t){return l({value:t.target.checked,target:["tremolo",e.id]})}}),e.name)}))),s.a.createElement(R,{title:"Category",selectedItems:t.category.length},r.map((function(e){return s.a.createElement("label",{key:"".concat(e.id,"-").concat(e.name)},s.a.createElement("input",{name:"category",type:"checkbox",value:e.id,checked:u("category",e.id),onChange:function(t){return l({value:t.target.checked,target:["category",e.id]})}}),e.name)}))),s.a.createElement("div",{className:"filters__close"},function(){var e=!1,n=function(e){return Array.isArray(t[e])&&!!t[e].length},r=function(e){return!Array.isArray(t[e])&&!!t[e]&&!("priceTo"===e&&2700===t[e])};for(var a in t)(n(a)||r(a))&&(e=!0);return e}()&&s.a.createElement("button",{className:"close-button",onClick:function(){return l({value:null,target:"clear"})}}))))});D.defaultName="FiltersForm",D.defaultProps={filtersState:{brand:[],category:[],pickup:[],priceFrom:0,priceTo:0,query:"",tremolo:[]},productsAmount:0,categories:[],brands:[],tremolos:[],pickups:[],priceRange:[]};var x=D,L=n(7),H=n(101),q=n(2),W=(n(112),function(e){var t=e.id,n=e.name,r=e.thumb,a=e.price,c=e.brand,o=e.category,i=e.cartItemAmount,l=e.onRemoveFromCart,u=e.onAddToCart;return s.a.createElement("div",{className:"product-list-item"},s.a.createElement(L.b,{className:"product-list-item__content",to:q.g.product.link(t)},s.a.createElement("img",{className:"product-list-item__brand",src:c.image,alt:c.name}),s.a.createElement("img",{className:"product-list-item__image",src:r,alt:n}),s.a.createElement("h4",{className:"product-list-item__title"},n),s.a.createElement("h5",{className:"product-list-item__category"},o.name)),s.a.createElement("div",{className:"product-list-item__footer"},s.a.createElement("p",{className:"product-list-item__price"},Object(S.b)(a)),s.a.createElement(H.a,{list:!0,amount:i,onAddToCart:u,onRemoveFromCart:l})))});W.defaultName="ProductListItem",W.defaultProps={cartItemAmount:0};var B=W,J=n(38),M=(n(113),function(e){var t=e.products,n=e.cartItemAmount,r=e.onAddToCart,a=e.onRemoveFromCart;return t.length?s.a.createElement("div",{className:"product-list"},t.map((function(e){return s.a.createElement(B,Object.assign({},e,{key:e.id,cartItemAmount:n(e.id),onAddToCart:function(){return r({id:e.id,name:e.name,thumb:e.thumb,price:e.price,category:e.category.name})},onRemoveFromCart:function(){return a(e.id)}}))}))):s.a.createElement(J.a,{message:"No product found!"})});M.defaultName="ProductList",M.defaultProps={products:[]};var U=M;function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var X=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).priceRange=Object(S.a)(10,300),n.setFilteredProducts=function(e,t){var r=t,a=function(t){switch(t){case"query":var a=e[t].toLowerCase();r=r.filter((function(e){return e.name.toLowerCase().includes(a)}));break;case"priceFrom":var c=e[t]?parseInt(e[t],10):0;r=r.filter((function(e){return parseInt(e.price,10)>=c}));break;case"priceTo":var o=e[t]?parseInt(e[t],10):Object(S.d)(n.priceRange);r=r.filter((function(e){return parseInt(e.price,10)<=o}));break;default:var i=e[t];Array.isArray(i)&&i.length&&(r=r.filter((function(e){return i.includes(e[t].id)})))}};for(var c in e)a(c);return r},n.handleFiltersChange=function(e){var t=n.props,r=t.setFilters,a=t.clearFilters;"clear"!==e.target?r(e):a()},n}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,n=e.brands,a=e.pickups,c=e.tremolos,o=e.addItemToCart,i=e.removeItemFromCart,l=e.cartItemAmount,u=e.filters,m=e.products,d=this.setFilteredProducts(u,m),p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,{priceTo:u.priceTo?u.priceTo:Object(S.d)(this.priceRange)});return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{crumbs:[["Catalog"]]}),s.a.createElement("h1",{className:"main-subtitle"},"Catalog"),s.a.createElement(x,{filtersState:p,priceRange:this.priceRange,productsAmount:d.length,products:d,categories:t,brands:n,pickups:a,tremolos:c,onFiltersChange:this.handleFiltersChange}),s.a.createElement(U,{products:d,cartItemAmount:l,onAddToCart:o,onRemoveFromCart:i}))}}]),t}(s.a.Component);X.defaultName="Catalog",X.defaultProps={products:[],categories:[],brands:[],pickups:[],tremolos:[]};var Y=Object(m.b)((function(e){return{filters:b(e),products:Object(d.c)(e),categories:Object(p.b)(e),brands:Object(p.a)(e),pickups:Object(p.c)(e),tremolos:Object(p.e)(e),cartItemAmount:function(t){return Object(f.b)(t,e)}}}),(function(e){return{clearFilters:function(){return e(Object(v.a)())},setFilters:function(t){return e(Object(v.b)(t))},addItemToCart:function(t){return e(Object(g.a)(t))},removeItemFromCart:function(t){return e(Object(g.d)(t))}}}))(X);t.default=Y},98:function(e,t,n){},99:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(7),o=n(2),i=(n(98),function(e){var t=e.crumbs;return a.a.createElement("ul",{className:"breadcrumbs"},a.a.createElement("li",{className:"breadcrumbs__item breadcrumbs__item--home"},a.a.createElement(c.b,{className:"breadcrumbs__item-link",to:o.g.home.link},"Home")),t.map((function(e,n){return t.length-1===n?a.a.createElement("li",{className:"breadcrumbs__item",key:e[0]},e[0]):a.a.createElement("li",{className:"breadcrumbs__item",key:e[0]},a.a.createElement(c.b,{className:"breadcrumbs__item-link",to:e[1]},e[0]))})))});i.defaultName="Breadcrumbs";var l=i;t.a=l}}]);
//# sourceMappingURL=4.cf30c3b9.chunk.js.map